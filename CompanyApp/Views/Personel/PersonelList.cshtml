@using CompanyApp.Models;
@using CompanyApp.Data.Entities;
@using CompanyApp.Controllers;

@{
    ViewData["Title"] = "PersonelList";
}

@model List<Personel>

<head>
    <script src="https://kit.fontawesome.com/318d550cae.js" crossorigin="anonymous"></script>
</head>


<div class="Container">

    @if (User.IsInRole("Admin"))
    {
        <div class="row mb-3 justify-content-end">
            <div class=" col-auto ">
                <a asp-action="AddPersonel" asp-controller="Personel" class="btn btn-success"> <i class="fa-regular fa-plus"> Personel Ekle </i>  </a>
            </div>
        </div>

    }
    <div class="row">

        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>İsim</th>
                    <th>Soyisim</th>
                    <th>Yaş</th>
                    <th>Cinsiyet</th>
                    <th>İl</th>
                    <th>İlçe</th>
                    <th>Adres</th>
                    @if (User.IsInRole("Admin"))
                    {
                        <th>İşlemler</th>
                    }

                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.Name</td>
                        <td>@item.LastName</td>
                        <td>@item.Age</td>
                        <td>@item.Gender</td>
                        <td>@item.Cities.Name</td>
                        <td> @item.Counties.Name  </td>
                        <td>@item.Address</td>
                        @if (User.IsInRole("Admin"))
                        {
                            <td>
                                <span>
                                    <a asp-action="Update" asp-controller="Personel" asp-route-id="@item.Id" class="btn btn-primary" type="button">Güncelle </a>
                                    <a asp-action="Delete" asp-controller="Personel" asp-route-id="@item.Id" type="button" class="btn btn-danger"> Sil </a>
                                </span>
                            </td>
                        }

                    </tr>
                }
            </tbody>


        </table>

    </div>

</div>




